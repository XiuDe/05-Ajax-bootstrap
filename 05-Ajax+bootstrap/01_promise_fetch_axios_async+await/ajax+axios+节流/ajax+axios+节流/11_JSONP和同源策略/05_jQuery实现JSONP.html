<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery实现JSONP</title>
    <script src="./lib/jquery.js"></script>
</head>

<body>
    <script>
        $.ajax({
                url: 'http://www.liulongbin.top:3006/api/jsonp?name=zs&age=20',
                // $.ajax发起JSONP请求，必须指定datatype为jsonp
                dataType: 'jsonp',
                // 发送到服务端的参数名称，默认值为callback
                jsonp: 'callback',
                // 自定义回调函数名称，默认值为jQueryxxx格式
                jsonpCallback: 'abc',
                success: function(res) {
                    console.log('$.ajax():jsonp', res)
                }
            })
            //jQuery中JSONP实现过程
            // jQuery中的JSONP是通过<script>标签的src属性实现跨域数据访问的，只不过jQuery采用的是动态创建和移除<script>标签的方式，来发起JSONP数据请求。
            // · 在发起JSONP请求的时候，动态向<header>中append一个，<script>标签。
            // · 在JSONP请求成功后，动态从<header>中移除刚才append进去的<script>标签。
    </script>
</body>

</html>